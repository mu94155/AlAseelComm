# نظام المصادقة لمجمع الأصيل التجاري
## Admin Authentication System for AlAseel Commercial Complex

### نظرة عامة | Overview

تم تطبيق نظام مصادقة شامل لحماية صفحات الإدارة في موقع مجمع الأصيل التجاري. يتيح هذا النظام للزوار الوصول إلى الصفحة الرئيسية فقط، بينما يتطلب مصادقة إدارية للوصول إلى جميع صفحات الإدارة الأخرى.

### بيانات الدخول | Login Credentials

**اسم المستخدم | Username:** `admin`  
**كلمة المرور | Password:** `AlAseel2025#Admin`

> ⚠️ **تحذير أمني:** يُنصح بشدة بتغيير كلمة المرور الافتراضية في بيئة الإنتاج.

### الصفحات المحمية | Protected Pages

الصفحات التالية تتطلب مصادقة إدارية:

1. `admin.html` - إدارة الأخبار
2. `customers.html` - إدارة العملاء  
3. `archive.html` - الأرشيف
4. `backup-manager.html` - النسخ الاحتياطية
5. `expenses-management.html` - إدارة المصاريف
6. `project-expenses.html` - مصاريف المشروع
7. `budget-settings.html` - إعدادات الميزانية

### الصفحات المتاحة للجمهور | Public Pages

- `Aseel-home-01.html` - الصفحة الرئيسية (متاحة للجميع)
- `admin-login.html` - صفحة تسجيل دخول الإدارة

### آلية العمل | How It Works

#### 1. الحماية التلقائية | Automatic Protection
- عند زيارة أي صفحة محمية، يتم فحص حالة المصادقة تلقائياً
- إذا لم يكن المستخدم مصادق عليه، يظهر له نافذة تسجيل الدخول فوراً
- لا يمكن الوصول إلى محتوى الصفحة قبل المصادقة

#### 2. إدارة الجلسات | Session Management
- **مدة الجلسة:** ساعتان (2 hours)
- **تمديد تلقائي:** تتمدد الجلسة تلقائياً مع النشاط
- **انتهاء تلقائي:** تنتهي الجلسة تلقائياً بعد عدم النشاط
- **تخزين آمن:** تُحفظ بيانات الجلسة في Local Storage بشكل مشفر

#### 3. واجهة المستخدم | User Interface
- **الصفحة الرئيسية:** تعرض رابط "دخول الإدارة" للمستخدمين غير المصادقين
- **بعد تسجيل الدخول:** تظهر جميع روابط الإدارة + رابط "تسجيل الخروج"
- **صفحات الإدارة:** تحتوي على زر تسجيل الخروج في شريط التنقل

### ميزات الأمان | Security Features

#### 🔐 مصادقة متقدمة
- مصادقة قوية باستخدام اسم مستخدم وكلمة مرور
- تشفير بيانات الجلسة
- تنظيف البيانات عند تسجيل الخروج

#### ⏱️ إدارة الجلسات
- انتهاء صلاحية تلقائي
- تمديد ذكي للجلسة حسب النشاط
- مراقبة جميع أنواع النشاط (نقر، لمس، حركة فأرة، إلخ)

#### 🛡️ حماية من الوصول المباشر
- لا يمكن تجاوز نظام الحماية بالوصول المباشر للروابط
- حماية جانب العميل بفحوصات متقدمة
- إعادة توجيه تلقائي للصفحة الرئيسية عند انتهاء الجلسة

### طرق الوصول | Access Methods

#### 1. للزوار العاديين
- يمكنهم زيارة `Aseel-home-01.html` بحرية
- يظهر لهم رابط "دخول الإدارة" في شريط التنقل
- يُعاد توجيههم للصفحة الرئيسية عند محاولة الوصول لصفحات محمية

#### 2. للمديرين
- **الطريقة 1:** النقر على "دخول الإدارة" من الصفحة الرئيسية
- **الطريقة 2:** الوصول المباشر لـ `admin-login.html`
- **الطريقة 3:** محاولة الوصول لأي صفحة محمية (سيظهر نموذج تسجيل دخول)

### التخصيص | Customization

#### تغيير بيانات الدخول
في ملف `JS/adminAuth.js` العثور على:
```javascript
this.adminCredentials = {
    username: 'admin',
    password: 'AlAseel2025#Admin'
};
```

#### تعديل مدة الجلسة
```javascript
this.sessionTimeout = 2 * 60 * 60 * 1000; // 2 hours in milliseconds
```

#### إضافة صفحات محمية جديدة
```javascript
this.protectedPages = [
    'admin.html',
    'customers.html',
    // أضف صفحات جديدة هنا
    'new-admin-page.html'
];
```

### الملفات المعدلة | Modified Files

#### ملفات JavaScript
- ✅ `JS/adminAuth.js` - نظام المصادقة الكامل (جديد)
- ✅ جميع ملفات HTML المحمية - إضافة script للمصادقة

#### ملفات HTML
- ✅ `admin.html` - إضافة نظام المصادقة
- ✅ `customers.html` - إضافة نظام المصادقة
- ✅ `archive.html` - إضافة نظام المصادقة
- ✅ `backup-manager.html` - إضافة نظام المصادقة
- ✅ `expenses-management.html` - إضافة نظام المصادقة
- ✅ `project-expenses.html` - إضافة نظام المصادقة
- ✅ `budget-settings.html` - إضافة نظام المصادقة
- ✅ `Aseel-home-01.html` - تحديث التنقل لإظهار/إخفاء روابط الإدارة
- ✅ `admin-login.html` - صفحة تسجيل دخول مخصصة (جديدة)

#### ملفات CSS
- ✅ `styles/home.css` - إضافة أنماط للعناصر المحمية

### الاختبار | Testing

#### اختبار الوصول للجمهور
1. افتح `Aseel-home-01.html` - يجب أن تعمل بشكل طبيعي
2. لاحظ وجود رابط "دخول الإدارة" فقط في التنقل
3. حاول الوصول مباشرة لـ `admin.html` - يجب أن تظهر نافذة تسجيل دخول

#### اختبار تسجيل الدخول
1. اذهب إلى `admin-login.html`
2. أدخل: `admin` / `AlAseel2025#Admin`
3. يجب أن يتم توجيهك إلى `admin.html`
4. تحقق من ظهور زر "تسجيل الخروج" في شريط التنقل

#### اختبار انتهاء الجلسة
1. سجل دخول وانتظر ساعتين (أو قم بتغيير المؤقت لاختبار أسرع)
2. حاول الوصول لأي صفحة محمية - يجب أن تظهر نافذة تسجيل دخول

### الصيانة | Maintenance

#### مراقبة الأمان
- راجع دورياً ملفات log النشاط
- تحقق من عدم وجود محاولات وصول غير مصرح بها
- قم بتحديث كلمة المرور دورياً

#### التحديثات
- تأكد من تحديث نظام المصادقة مع أي صفحات إدارة جديدة
- اختبر النظام بعد أي تعديلات على الكود
- حافظ على نسخة احتياطية من إعدادات المصادقة

### الدعم الفني | Technical Support

للمساعدة أو الإبلاغ عن مشاكل:
- تحقق من console المتصفح للرسائل الخطأ
- تأكد من تفعيل JavaScript في المتصفح
- تحقق من إعدادات Local Storage في المتصفح

---

**تم التطوير بواسطة:** فريق تطوير مجمع الأصيل التجاري  
**التاريخ:** يوليو 2025  
**الإصدار:** 1.0
